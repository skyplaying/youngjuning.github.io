<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <meta name="title" content="洛竹的官方网站" />
    <meta name="keywords" content="react, javascript, typescript" />
    <meta name="description" content="怕什么真理无穷，进一寸有一寸的欢喜" />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://i.loli.net/2021/01/07/LkH3VM6oBnIuFNi.png"
    />
    <link rel="stylesheet" href="/umi.e7640cb0.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.3.9
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.includes(e) ? e : r[0]
        );
      })();
    </script>
    <title>极速入门 Go 并爬取掘金专栏</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/blog/go/极速入门 go 并爬取掘金专栏" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;https://i.loli.net/2021/01/07/LkH3VM6oBnIuFNi.png&#x27;)" href="/">洛竹的官方网站</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a aria-current="page" class="active" href="/blog">博客</a></span><span><a href="/awesome">收藏</a></span><span><a href="/about">关于</a></span><span><a href="/leetcode">算法</a></span><span><a href="/links">友链</a></span><span>洛竹文档⤵️<ul><li><a href="/cobra"> Cobra</a></li><li><a href="/viper"> Viper</a></li><li><a href="/github-actions"> GitHub Actions</a></li></ul></span><span><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/user/325111174662855/posts">掘金<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><span><a target="_blank" rel="noopener noreferrer" href="https://www.zhihu.com/people/yangjunning">知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><ul><li><a target="_blank" rel="noopener noreferrer" href="https://www.zhihu.com/column/c_1341734653628149760">前端早茶馆<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/youngjuning.github.io">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://i.loli.net/2021/01/07/LkH3VM6oBnIuFNi.png&#x27;)" href="/"></a><h1>洛竹的官方网站</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/blog">博客</a></li><li><a href="/awesome">收藏</a></li><li><a href="/about">关于</a></li><li><a href="/leetcode">算法</a></li><li><a href="/links">友链</a></li><li>洛竹文档⤵️<ul><li><a href="/cobra"> Cobra</a></li><li><a href="/viper"> Viper</a></li><li><a href="/github-actions"> GitHub Actions</a></li></ul></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/user/325111174662855/posts">掘金<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://www.zhihu.com/people/yangjunning">知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><ul><li><a target="_blank" rel="noopener noreferrer" href="https://www.zhihu.com/column/c_1341734653628149760">前端早茶馆<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/youngjuning.github.io">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/blog">Less is more</a></li><li><a href="/blog/deno">Deno</a><ul><li><a href="/blog/deno/deno git-hub action 源码解析"><span>Deno GitHub Action 源码解析</span></a></li><li><a href="/blog/deno/向 deno 学习脚本的管理"><span>向 Deno 学习脚本的管理</span></a></li></ul></li><li><a href="/blog/devops">Devops</a><ul><li><a href="/blog/devops/玩转 github actions"><span>玩转 GitHub Actions</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog/go">Go</a><ul><li><a href="/blog/go/go语法学习笔记"><span>Go 语法学习笔记</span></a></li><li><a href="/blog/go/基于 go 实现 deno upgrade"><span>基于 Go 实现 Deno upgrade</span></a></li><li><a aria-current="page" class="active" href="/blog/go/极速入门 go 并爬取掘金专栏"><span>极速入门 Go 并爬取掘金专栏</span></a></li></ul></li><li><a href="/blog/javascript">Javascript</a><ul><li><a href="/blog/javascript/使用jest和enzyme进行react native单元测试"><span>使用Jest和Enzyme进行React Native单元测试</span></a></li><li><a href="/blog/javascript/图解google-v8-学习笔记"><span>图解 Google V8 学习笔记</span></a></li></ul></li><li><a href="/blog/others">Others</a><ul><li><a href="/blog/others/程序员购钻指南"><span>程序员购钻指南：钻戒值不值得买？怎么买？</span></a></li></ul></li><li><a href="/blog/react-native">react-native</a><ul><li><a href="/blog/react-native/react native 调试最佳实践"><span>React Native 调试最佳实践</span></a></li><li><a href="/blog/react-native/给 react native 库添加 example"><span>给 React Native 库添加 Example</span></a></li></ul></li><li><a href="/blog/rust">Rust</a><ul><li><a href="/blog/rust/一个番茄钟入门 rust"><span>一个番茄钟入门 Rust</span></a></li><li><a href="/blog/rust/rust 语法学习"><span>Rust 语法学习</span></a></li><li><a href="/blog/rust/rust 编写猜数游戏"><span>Rust 编写猜数游戏</span></a></li><li><a href="/blog/rust/为什么rust需要局部变量隐藏"><span>为什么 Rust 需要局部变量隐藏</span></a></li><li><a href="/blog/rust/rust 在 web 领域的应用"><span>Rust 在 Web 领域的应用</span></a></li></ul></li><li><a href="/blog/tools">Tools</a><ul><li><a href="/blog/tools/发布一个 homebrew 包"><span>发布一个 Homebrew 包</span></a></li><li><a href="/blog/tools/我的mac开发环境"><span>我的 Mac 开发环境</span></a></li></ul></li><li><a href="/blog/typescript">Typescript</a><ul><li><a href="/blog/typescript/向微软官方贡献 @types 包"><span>向微软官方贡献 @types 包</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="Go 印象" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-印象"><span>Go 印象</span></a></li><li title="Let&#x27;s Go" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#lets-go"><span>Let&#x27;s Go</span></a></li><li title="优势" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#优势"><span>优势</span></a></li><li title="趋势" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#趋势"><span>趋势</span></a></li><li title="Go 简介" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-简介"><span>Go 简介</span></a></li><li title="Go 语言特点" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-语言特点"><span>Go 语言特点</span></a></li><li title="Go 安装配置" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-安装配置"><span>Go 安装配置</span></a></li><li title="七牛云镜像代理" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#七牛云镜像代理"><span>七牛云镜像代理</span></a></li><li title="Go 常用命令" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-常用命令"><span>Go 常用命令</span></a></li><li title="Go 标准库" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#go-标准库"><span>Go 标准库</span></a></li><li title="VsCode 插件推荐" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#vscode-插件推荐"><span>VsCode 插件推荐</span></a></li><li title="Hello World" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#hello-world"><span>Hello World</span></a></li><li title="爬虫是什么" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#爬虫是什么"><span>爬虫是什么</span></a></li><li title="colloy 极速上手" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#colloy-极速上手"><span>colloy 极速上手</span></a></li><li title="人生第一个爬虫" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#人生第一个爬虫"><span>人生第一个爬虫</span></a></li><li title="回调及其调用顺序" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#回调及其调用顺序"><span>回调及其调用顺序</span></a></li><li title="类型定义" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#类型定义"><span>类型定义</span></a></li><li title="爬取掘金专栏" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#爬取掘金专栏"><span>爬取掘金专栏</span></a></li><li title="分析页面结构" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#分析页面结构"><span>分析页面结构</span></a></li><li title="获取专栏标题和内容" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#获取专栏标题和内容"><span>获取专栏标题和内容</span></a></li><li title="转 HTML 为 Markdown" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#转-html-为-markdown"><span>转 HTML 为 Markdown</span></a></li><li title="保存文件到本地" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#保存文件到本地"><span>保存文件到本地</span></a></li><li title="获取命令行参数" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#获取命令行参数"><span>获取命令行参数</span></a></li><li title="获取环境变量" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#获取环境变量"><span>获取环境变量</span></a></li><li title="获取图片" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#获取图片"><span>获取图片</span></a></li><li title="成品" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#成品"><span>成品</span></a></li><li title="打包并使用 Homebrew 发布脚本" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#打包并使用-homebrew-发布脚本"><span>打包并使用 Homebrew 发布脚本</span></a></li><li title="1、打包成可执行文件" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#1、打包成可执行文件"><span>1、打包成可执行文件</span></a></li><li title="2、将可执行文件打包成 tar.gz 的格式" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#2、将可执行文件打包成-targz-的格式"><span>2、将可执行文件打包成 tar.gz 的格式</span></a></li><li title="3、使用 brew create &lt;git-url&gt; --tab user/repo 创建药方" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#3、使用-brew-create-git-url---tab-userrepo-创建药方"><span>3、使用 brew create &lt;git-url&gt; --tab user/repo 创建药方</span></a></li><li title="4、安装脚本" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#4、安装脚本"><span>4、安装脚本</span></a></li><li title="在其他人的设备安装自己的脚本" data-depth="3"><a href="/blog/go/极速入门 go 并爬取掘金专栏#在其他人的设备安装自己的脚本"><span>在其他人的设备安装自己的脚本</span></a></li><li title="超级赛亚人镇" data-depth="2"><a href="/blog/go/极速入门 go 并爬取掘金专栏#超级赛亚人镇"><span>超级赛亚人镇</span></a></li></ul><div class="__dumi-default-layout-content"><span class="__dumi-default-badge">掘金专栏</span><div style="display:flex;justify-content:center"><img src="https://i.loli.net/2021/02/03/h9bMeX3w2ZBYNoQ.png" width="70%"/></div><div class="markdown"><h2 id="go-印象"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-印象"><span class="icon icon-link"></span></a>Go 印象</h2><p>2018 年的某一天，我问公司后端架构师说我想学学后端语言，除了 Java 有啥推荐，他告诉我他在学 Go。然后跟我讲了一些诸如分布式、协程、大数据、爬虫......巴拉巴拉的我也听不太懂的概念。然后我说我还是学 NodeJs 吧。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/386ee7328c5b451a93924c671f858269~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><p>之所以斗胆再战 Go 语言，完全是梁静茹（<a target="_blank" rel="noopener noreferrer" href="https://juejin.im/post/6854573219266887694">上次征文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）给了我勇气。如果你是后端大佬，直接看后半篇的爬虫部分就可以。</p><p>本文的主题是极速、爬虫、掘金专栏，目的是使用 Go 写一个小工具把掘金专栏文章爬取下来，慢慢看。</p><h2 id="lets-go"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#lets-go"><span class="icon icon-link"></span></a>Let&#x27;s Go</h2><h3 id="优势"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#优势"><span class="icon icon-link"></span></a>优势</h3><ul><li>语法简单，易上手（仅有 25 个关键保留字）</li><li>性能高、编译快，开发效率不比 Python 和 Ruby 低</li><li>部署方便，编译包小，几乎无依赖（二进制文件包可直接运行）这一点和 Deno 很像</li><li>原生支持并发（goroutine）</li><li>官方统一规范（gofmt、golint）又看到了 Deno 的影子</li><li>丰富的标准库，再次看到了 Deno 的影子</li></ul><h3 id="趋势"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#趋势"><span class="icon icon-link"></span></a>趋势</h3><p>权威的趋势，优弧大佬已经讲的很清楚了，我这里补充一下 GitHub 的 star 趋势:</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f1ea4ca5a4d457c8e93e07372b88e28~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><h2 id="go-简介"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-简介"><span class="icon icon-link"></span></a>Go 简介</h2><p>Go 是 Google 开发的一种静态强类型、编译型、并发型并具有垃圾回收功能的编程语言。为了方便搜索和识别，有时会将其称为 Golang。</p><h2 id="go-语言特点"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-语言特点"><span class="icon icon-link"></span></a>Go 语言特点</h2><ol><li>Go 是一种新的语言，是一种支持并发、带垃圾回收、可快速编译的静态语言。</li><li>Go 为并发执行与通信提供了基本的支持，是天生的高性能服务开发语言。</li><li>Go 结合了解释性语言的游刃有余，动态类型语言的开发效率，以及静态类型的安全性。</li><li>Go 只需要用几秒的时间就可以编译一个大型的 Go 程序，部署也非常容易。</li><li>Go 具有 Python/Ruby 的开发效率，同时又是 C 语言的运行性能（还是有一定差距的）。</li><li>Go 简单易上手（只有 25 个关键保留字）</li><li>Go 有自己的开发规范，还提供工具支持。</li></ol><h2 id="go-安装配置"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-安装配置"><span class="icon icon-link"></span></a>Go 安装配置</h2><blockquote><p>作者还有一篇<a target="_blank" rel="noopener noreferrer" href="https://juejin.im/post/6844904083489308685">程序员的 Mac 开发环境【持续更新】<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，记录了我的 Mac 上的开发环境，读者大大可以顺便给个 Star 吗？</p></blockquote><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ brew install go</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ac7ef0acc5b4d2480c802d586f3ae44~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><blockquote><p>小技巧 1：<code>ctrl+c</code> 可以跳过 <code>Updating Homebrew...</code>，要不卡到你怀疑人生。</p></blockquote><blockquote><p>小技巧 2：如果你有时间等，可以带上 <code>-verbose</code> 参数，这样下载的时候会告诉你更新进度。</p></blockquote><blockquote><p>小技巧 3：Homebrew 是同步的 GitHub 仓库，如果实在卡，请自行换 Homebrew 代理源</p></blockquote><p>安装成功后，查看 go 版本：</p><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go version</span></div><div class="token-line"><span class="token plain">go version go1.14.7 darwin/amd64</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>配置环境变量：</p><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ open /usr/local/Cellar/go/</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><blockquote><p>然后看一下自己的 libexec 在什么地方然后记录下整体的地址，我的地址是 <code>/usr/local/Cellar/go/1.14.7/libexec</code></p></blockquote><p>需要将这部分写入到 <code>nano ~/.zshrc</code>：</p><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">#GO</span></div><div class="token-line"><span class="token plain">export GOROOT=/usr/local/Cellar/go/1.14.7/libexec</span></div><div class="token-line"><span class="token plain">export GOPATH=~/.go</span></div><div class="token-line"><span class="token plain">export PATH=${PATH}:$GOPATH/bin</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>记得执行 <code>source ~/.zshrc</code> 命令后才会生效。然后执行 <code>go env</code> 命令查看是否成功</p><details><summary>输出过长，请点开查看！！！</summary><div class="__dumi-default-code-block"><pre class="prism-code language-xml"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">GO111MODULE=&quot;on&quot;</span></div><div class="token-line"><span class="token plain">GOARCH=&quot;amd64&quot;</span></div><div class="token-line"><span class="token plain">GOBIN=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOCACHE=&quot;/Users/yangjunning/Library/Caches/go-build&quot;</span></div><div class="token-line"><span class="token plain">GOENV=&quot;/Users/yangjunning/Library/Application Support/go/env&quot;</span></div><div class="token-line"><span class="token plain">GOEXE=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOFLAGS=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOHOSTARCH=&quot;amd64&quot;</span></div><div class="token-line"><span class="token plain">GOHOSTOS=&quot;darwin&quot;</span></div><div class="token-line"><span class="token plain">GOINSECURE=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GONOPROXY=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GONOSUMDB=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOOS=&quot;darwin&quot;</span></div><div class="token-line"><span class="token plain">GOPATH=&quot;/Users/yangjunning/go&quot;</span></div><div class="token-line"><span class="token plain">GOPRIVATE=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOPROXY=&quot;https://goproxy.cn,direct&quot;</span></div><div class="token-line"><span class="token plain">GOROOT=&quot;/usr/local/Cellar/go/1.14.7/libexec&quot;</span></div><div class="token-line"><span class="token plain">GOSUMDB=&quot;sum.golang.org&quot;</span></div><div class="token-line"><span class="token plain">GOTMPDIR=&quot;&quot;</span></div><div class="token-line"><span class="token plain">GOTOOLDIR=&quot;/usr/local/Cellar/go/1.14.7/libexec/pkg/tool/darwin_amd64&quot;</span></div><div class="token-line"><span class="token plain">GCCGO=&quot;gccgo&quot;</span></div><div class="token-line"><span class="token plain">AR=&quot;ar&quot;</span></div><div class="token-line"><span class="token plain">CC=&quot;clang&quot;</span></div><div class="token-line"><span class="token plain">CXX=&quot;clang++&quot;</span></div><div class="token-line"><span class="token plain">CGO_ENABLED=&quot;1&quot;</span></div><div class="token-line"><span class="token plain">GOMOD=&quot;/dev/null&quot;</span></div><div class="token-line"><span class="token plain">CGO_CFLAGS=&quot;-g -O2&quot;</span></div><div class="token-line"><span class="token plain">CGO_CPPFLAGS=&quot;&quot;</span></div><div class="token-line"><span class="token plain">CGO_CXXFLAGS=&quot;-g -O2&quot;</span></div><div class="token-line"><span class="token plain">CGO_FFLAGS=&quot;-g -O2&quot;</span></div><div class="token-line"><span class="token plain">CGO_LDFLAGS=&quot;-g -O2&quot;</span></div><div class="token-line"><span class="token plain">PKG_CONFIG=&quot;pkg-config&quot;</span></div><div class="token-line"><span class="token plain">GOGCCFLAGS=&quot;-fPIC -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/zn/17xnqr8s1pjbpzt9_t38tyhc0000gn/T/go-build998676802=/tmp/go-build -gno-record-gcc-switches -fno-common&quot;</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div></details><h2 id="七牛云镜像代理"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#七牛云镜像代理"><span class="icon icon-link"></span></a>七牛云镜像代理</h2><p>打开你的终端并执行，Go 1.13 及以上可行，其他版本请阅读<a target="_blank" rel="noopener noreferrer" href="https://goproxy.cn/">Goproxy 中国<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 查看文档</p><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go </span><span class="token function">env</span><span class="token plain"> -w </span><span class="token assign-left variable">GO111MODULE</span><span class="token operator">=</span><span class="token plain">on</span></div><div class="token-line"><span class="token plain">$ go </span><span class="token function">env</span><span class="token plain"> -w </span><span class="token assign-left variable">GOPROXY</span><span class="token operator">=</span><span class="token plain">https://goproxy.cn,direct</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h2 id="go-常用命令"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-常用命令"><span class="icon icon-link"></span></a>Go 常用命令</h2><p>1、<code>go build</code>：用于编译我们指定的源码文件或代码包以及它们的依赖包</p><p>2、<code>go clean</code>：用来移除当前源码包里面编译生成的文件</p><p>3、<code>go doc</code>：打印附于 Go 语言程序实体上的文档。我们可以通过把程序实体的标识符作为该命令的参数来达到查看其文档的目的。</p><p>4、<code>go fmt</code>：帮助格式化你的代码文件，你只需要执行 go fmt xxx.go 你的代码将会被修改为标准格式</p><p>5、<code>go get</code>：根据要求和实际情况从互联网上下载或更新指定的代码败一级依赖包，并对他们进行编译和安装</p><p>6、<code>go install</code>：用于编译并安装指定的代码包及它们的依赖包</p><p>7、<code>go run</code>：可以遍历源码并运行命令源码文件</p><h2 id="go-标准库"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#go-标准库"><span class="icon icon-link"></span></a>Go 标准库</h2><p>1、sync：提供了基本的同步原语。在多个 goroutine 访问共享资源的时候，需要使用 sync 中提供的锁机制。</p><p>2、os：提供了对操作系统功能的非平台相关访问接口。接口为 Unix 风格。提供的功能包括文件操作、进程管理、信号和用户账号等。</p><p>3、time：时间相关的处理</p><p>4、fmt：实现格式化的输入输出操作。</p><p>5、io：实现了一系列非平台相关的 IO 相关接口和实现，比如提供了对 os 中系统相关的 IO 功能的封装。我们在进行流式读写（比如读写文件）时，会用到该包。</p><p>6、http：提供 web 服务</p><p>7、string：处理字符串的一些函数集合，包括合并、查找、分割、比较、后缀检查、索引、大小写处理等等。</p><h2 id="vscode-插件推荐"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#vscode-插件推荐"><span class="icon icon-link"></span></a>VsCode 插件推荐</h2><ul><li>Go：Rich Go language support for Visual Studio Code</li></ul><h2 id="hello-world"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#hello-world"><span class="icon icon-link"></span></a>Hello World</h2><p>创建<code>helloworld.go</code>写入下面内容:</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">package</span><span class="token plain"> main  </span><span class="token comment">// 代码包声明语句。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token string">&quot;fmt&quot;</span><span class="token plain"> </span><span class="token comment">// 系统包用来输出的</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 打印函数调用语句。用于打印输出信息。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  fmt</span><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">&quot;掘金&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token plain">juejin </span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">return</span><span class="token plain"> </span><span class="token string">&quot;Hello &quot;</span><span class="token operator">+</span><span class="token plain">juejin</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>然后执行<code>go run helloworld.go</code>，好了你已经入门了,下面可以一起开启爬虫的学习了，下面我会循序渐进地带大家实现一个爬取掘金专栏并转成 Markdown 的格式保存到本地的小爬虫，取名叫<a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/juejin-spider">juejin-spider<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><h2 id="爬虫是什么"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#爬虫是什么"><span class="icon icon-link"></span></a>爬虫是什么</h2><p>百度百科和维基百科对网络爬虫的定义：简单来说爬虫就是抓取目标网站内容的工具，一般是根据定义的行为自动进行抓取, 对网页或数据的分析与过滤；抓取的网页 URL 进行爬行策略。</p><p>简单来说就是把目标网页下载下来，然后通过解析、过滤、去重等一系列操作获得自己想要的数据并以相应的格式保存下来。大致流程如下图：</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb67f112c5234a97b12eb690ab58435f~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><h2 id="colloy-极速上手"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#colloy-极速上手"><span class="icon icon-link"></span></a>colloy 极速上手</h2><p>gocolly 是用 go 实现的网络爬虫框架，目前在 github 上具有 11K+星，名列 go 版爬虫程序榜首。gocolly 快速优雅，在单核上每秒可以发起 1K 以上请求；以回调函数的形式提供了一组接口，可以实现任意类型的爬虫；依赖 goquery 库可以像 jquery 一样选择 web 元素。</p><p>gocolly 的官方网站是<a target="_blank" rel="noopener noreferrer" href="http://go-colly.org/">http://go-colly.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，提供了详细的文档和示例代码。安装 colly:</p><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go get -u github.com/gocolly/colly/...</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="人生第一个爬虫"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#人生第一个爬虫"><span class="icon icon-link"></span></a>人生第一个爬虫</h3><p>在 <code>go.mod</code> 中管理依赖：</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">module juejin</span><span class="token punctuation">.</span><span class="token plain">im</span><span class="token operator">/</span><span class="token plain">junning</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">go</span><span class="token plain"> </span><span class="token number">1.14</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">require </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  github</span><span class="token punctuation">.</span><span class="token plain">com</span><span class="token operator">/</span><span class="token plain">gocolly</span><span class="token operator">/</span><span class="token plain">colly</span><span class="token operator">/</span><span class="token plain">v2 latest</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>新建 <code>main.go</code> 文件并编写代码：</p><blockquote><p>这段代码不长，但是我看了官方文档以及五六篇博客，才搞定，就为了让我人生第一个爬虫足够完整。</p></blockquote><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">package</span><span class="token plain"> main</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token string">&quot;fmt&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 1、导入 colly。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token string">&quot;github.com/gocolly/colly&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token string">&quot;github.com/gocolly/colly/extensions&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 2、创建 collector</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c </span><span class="token operator">:=</span><span class="token plain"> colly</span><span class="token punctuation">.</span><span class="token function">NewCollector</span><span class="token punctuation">(</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token function">AllowedDomains</span><span class="token punctuation">(</span><span class="token string">&quot;juejin.im&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">// 要限定域名，否则就把全网都爬下来了</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	extensions</span><span class="token punctuation">.</span><span class="token function">RandomUserAgent</span><span class="token punctuation">(</span><span class="token plain">c</span><span class="token punctuation">)</span><span class="token plain">                              </span><span class="token comment">// 使用随机的UserAgent，最好能使用代理。这样就不容易被ban</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	extensions</span><span class="token punctuation">.</span><span class="token function">Referer</span><span class="token punctuation">(</span><span class="token plain">c</span><span class="token punctuation">)</span><span class="token plain">                                      </span><span class="token comment">// 在访问的时候带上Referrer，意思就是这一次点击是从哪个页面产生的</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 3、事件监听，通过 callback 执行事件处理。</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnError</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">Response</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token builtin">error</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		fmt</span><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong:&quot;</span><span class="token punctuation">,</span><span class="token plain"> err</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnRequest</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token plain">r </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">Request</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token comment">// fmt.Println(&quot;Visiting&quot;, r.URL)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Find and visit all links</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnHTML</span><span class="token punctuation">(</span><span class="token string">&quot;a[href]&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token plain">e </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">HTMLElement</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		fmt</span><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token plain">e</span><span class="token punctuation">.</span><span class="token plain">Text</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		e</span><span class="token punctuation">.</span><span class="token plain">Request</span><span class="token punctuation">.</span><span class="token function">Visit</span><span class="token punctuation">(</span><span class="token plain">e</span><span class="token punctuation">.</span><span class="token function">Attr</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 4、启动网页访问</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">Visit</span><span class="token punctuation">(</span><span class="token string">&quot;https://juejin.im/&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><ul><li><code>:=</code> 的方式声明变量并赋值，JS 写多了好不习惯（语法学习推荐大家看<a target="_blank" rel="noopener noreferrer" href="https://juejin.im/book/6844733833401597966/section">漫画 Go 语言 纯手绘版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ）</li><li><code>*clolly.HTMLElement</code> 的语法是声明参数类型的</li></ul><h3 id="回调及其调用顺序"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#回调及其调用顺序"><span class="icon icon-link"></span></a>回调及其调用顺序</h3><p>gocolly 的原理就是监听网络访问，并提供了 7 事件和回调来供开发者来发挥。</p><ol><li>OnRequest：请求执行之前调用</li><li>OnError：请求出错的时候调用</li><li>OnResponseHeaders：Called after response headers received 响应头接收到时调用</li><li>OnResponse：响应完成后调用</li><li>OnHTML：如果接收到的内容是 HTML，则在 OnResponse 之后立即调用</li><li>OnXML：如果接收到的内容是 HTML 或者 XML，则在 OnHTML 之后立即调用</li><li>OnScraped：在 OnXML 之后立即调用</li></ol><h3 id="类型定义"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#类型定义"><span class="icon icon-link"></span></a>类型定义</h3><p>这里列出了 <code>*colly.HTMLElement</code> 和 <code>*colly.Request</code> 的类型定义，在开发过程中，你可以随时跳转到类型定义文件，或者查看 <a target="_blank" rel="noopener noreferrer" href="https://github.com/gocolly/colly/">https://github.com/gocolly/colly/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 中对应的文件都可以（据说源码写的很优秀，有时间研究一下）。PS：和 TypeScript 其实有很多相似之处，可以类比学习，这也是为啥我可以一夜入门。</p><h4 id="collyhtmlelement"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#collyhtmlelement"><span class="icon icon-link"></span></a>*colly.HTMLElement</h4><blockquote><p>在线链接：<a target="_blank" rel="noopener noreferrer" href="https://github.com/gocolly/colly/blob/master/htmlelement.go">https://github.com/gocolly/colly/blob/master/htmlelement.go<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// HTMLElement is the representation of a HTML tag.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">type</span><span class="token plain"> HTMLElement </span><span class="token keyword">struct</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Name is the name of the tag</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Name       </span><span class="token builtin">string</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Text       </span><span class="token builtin">string</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	attributes </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token plain">html</span><span class="token punctuation">.</span><span class="token plain">Attribute</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Request is the request object of the element&#x27;s HTML document</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Request </span><span class="token operator">*</span><span class="token plain">Request</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Response is the Response object of the element&#x27;s HTML document</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Response </span><span class="token operator">*</span><span class="token plain">Response</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// DOM is the goquery parsed DOM object of the page. DOM is relative</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// to the current HTMLElement</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	DOM </span><span class="token operator">*</span><span class="token plain">goquery</span><span class="token punctuation">.</span><span class="token plain">Selection</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Index stores the position of the current element within all the elements matched by an OnHTML callback</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Index </span><span class="token builtin">int</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h4 id="collyrequest"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#collyrequest"><span class="icon icon-link"></span></a>*colly.Request</h4><blockquote><p>在线链接：<a target="_blank" rel="noopener noreferrer" href="https://github.com/gocolly/colly/blob/master/request.go">https://github.com/gocolly/colly/blob/master/request.go<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// Request is the representation of a HTTP request made by a Collector</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">type</span><span class="token plain"> Request </span><span class="token keyword">struct</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// URL is the parsed URL of the HTTP request</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	URL </span><span class="token operator">*</span><span class="token plain">url</span><span class="token punctuation">.</span><span class="token plain">URL</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Headers contains the Request&#x27;s HTTP headers</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Headers </span><span class="token operator">*</span><span class="token plain">http</span><span class="token punctuation">.</span><span class="token plain">Header</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Ctx is a context between a Request and a Response</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Ctx </span><span class="token operator">*</span><span class="token plain">Context</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Depth is the number of the parents of the request</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Depth </span><span class="token builtin">int</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Method is the HTTP method of the request</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Method </span><span class="token builtin">string</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Body is the request body which is used on POST/PUT requests</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	Body io</span><span class="token punctuation">.</span><span class="token plain">Reader</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// ResponseCharacterencoding is the character encoding of the response body.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// Leave it blank to allow automatic character encoding of the response body.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// It is empty by default and it can be set in OnRequest callback.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	ResponseCharacterEncoding </span><span class="token builtin">string</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// ID is the Unique identifier of the request</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	ID        </span><span class="token builtin">uint32</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	collector </span><span class="token operator">*</span><span class="token plain">Collector</span></div><div class="token-line"><span class="token plain">	abort     </span><span class="token builtin">bool</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	baseURL   </span><span class="token operator">*</span><span class="token plain">url</span><span class="token punctuation">.</span><span class="token plain">URL</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// ProxyURL is the proxy address that handles the request</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	ProxyURL </span><span class="token builtin">string</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h2 id="爬取掘金专栏"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#爬取掘金专栏"><span class="icon icon-link"></span></a>爬取掘金专栏</h2><p>爬虫的原理就是模拟一个网页访问，获取文档信息，并对信息以各种手段解析出自己需要的数据，并保存数据。</p><p>由于作者是仓促间一夜入门 Go 语言，无力实现一个数据爬取的爬虫，我实现的是：</p><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">访问掘金专栏详情页</span></div><div class="token-line"><span class="token plain">		⏬</span></div><div class="token-line"><span class="token plain">获取指定的内容和标题部分</span></div><div class="token-line"><span class="token plain">		⏬</span></div><div class="token-line"><span class="token plain">将标题作为文件名</span></div><div class="token-line"><span class="token plain">		⏬</span></div><div class="token-line"><span class="token plain">把内容转为Markdown格式存入文件</span></div><div class="token-line"><span class="token plain">		⏬</span></div><div class="token-line"><span class="token plain">保存文件到本地</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="分析页面结构"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#分析页面结构"><span class="icon icon-link"></span></a>分析页面结构</h3><p><strong>专栏标题结构</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">h1</span><span class="token tag"> </span><span class="token tag attr-name">data-v-23a9d5ed</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">article-title</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">(.*?)&lt;\/h1&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">h1</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p><strong>专栏正文结构</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">div</span><span class="token tag"> </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">markdown-body</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag punctuation">&gt;</span><span class="token plain">(.*?)&lt;\/div&gt;</span><span class="token tag punctuation">&lt;/</span><span class="token tag">div</span><span class="token tag punctuation">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="获取专栏标题和内容"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#获取专栏标题和内容"><span class="icon icon-link"></span></a>获取专栏标题和内容</h3><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c </span><span class="token operator">:=</span><span class="token plain"> colly</span><span class="token punctuation">.</span><span class="token function">NewCollector</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		colly</span><span class="token punctuation">.</span><span class="token function">Async</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnRequest</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token plain">r </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">Request</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		fmt</span><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Visiting&quot;</span><span class="token punctuation">,</span><span class="token plain"> r</span><span class="token punctuation">.</span><span class="token plain">URL</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnError</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">Response</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token builtin">error</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		log</span><span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong:&quot;</span><span class="token punctuation">,</span><span class="token plain"> err</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnHTML</span><span class="token punctuation">(</span><span class="token string">&quot;.article-title&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token plain">e </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">HTMLElement</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token comment">// Code Here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">OnHTML</span><span class="token punctuation">(</span><span class="token string">&quot;.markdown-body&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token plain">e </span><span class="token operator">*</span><span class="token plain">colly</span><span class="token punctuation">.</span><span class="token plain">HTMLElement</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token comment">// Code Here</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">Visit</span><span class="token punctuation">(</span><span class="token string">&quot;https://juejin.im/post/&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">post</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	c</span><span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><ul><li><code>colly.NewCollector</code>里面加了一项<code>colly.Async(true)</code>，表示抓取时异步的，这能让抓取速度显著提高</li><li>使用 <code>OnHTML</code> 事件分别抓取带有<code>article-title</code>和<code>.markdown-body</code>的元素，这里边就是我们下边要实现功能的逻辑实现地。</li><li><code>OnHTML</code> 第一个参数是符合 CSS 选择器规则的，可以使用任意选择器搞事情。</li></ul><h3 id="转-html-为-markdown"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#转-html-为-markdown"><span class="icon icon-link"></span></a>转 HTML 为 Markdown</h3><p>这里我们借助的是<a target="_blank" rel="noopener noreferrer" href="https://github.com/JohannesKaufmann/html-to-markdown">html-to-markdown<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 这个库提供的功能，我们将其简单封装一下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// 将Html转为Markdown</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">convertHTMLToMarkdown</span><span class="token punctuation">(</span><span class="token plain">selection </span><span class="token operator">*</span><span class="token plain">goquery</span><span class="token punctuation">.</span><span class="token plain">Selection</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	converter </span><span class="token operator">:=</span><span class="token plain"> md</span><span class="token punctuation">.</span><span class="token function">NewConverter</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	markdown </span><span class="token operator">:=</span><span class="token plain"> converter</span><span class="token punctuation">.</span><span class="token function">Convert</span><span class="token punctuation">(</span><span class="token plain">selection</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">return</span><span class="token plain"> markdown</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="保存文件到本地"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#保存文件到本地"><span class="icon icon-link"></span></a>保存文件到本地</h3><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token operator">...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 写入文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token plain">fileName </span><span class="token builtin">string</span><span class="token punctuation">,</span><span class="token plain">content </span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	filePath </span><span class="token operator">:=</span><span class="token plain"> fileName </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string">&quot;.md&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">var</span><span class="token plain"> file </span><span class="token operator">*</span><span class="token plain">os</span><span class="token punctuation">.</span><span class="token plain">File</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">if</span><span class="token plain"> </span><span class="token function">checkFileIsExist</span><span class="token punctuation">(</span><span class="token plain">filePath</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token comment">// 如果文件存在，则删除</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		err </span><span class="token operator">:=</span><span class="token plain"> os</span><span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token plain">filePath</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token keyword">if</span><span class="token plain"> err </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token boolean">nil</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">			log</span><span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span><span class="token plain">err</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 创建文件并写入内容</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	file</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> os</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token plain">filePath</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	n</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">:=</span><span class="token plain"> io</span><span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token plain">file</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;## &quot;</span><span class="token operator">+</span><span class="token plain">fileName</span><span class="token operator">+</span><span class="token string">&quot;\n\n&quot;</span><span class="token operator">+</span><span class="token plain">content</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token comment">// 关闭文件</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	file</span><span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">if</span><span class="token plain"> n </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token keyword">return</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">// 检查文件是否存在</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">checkFileIsExist</span><span class="token punctuation">(</span><span class="token plain">fileName </span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token boolean">_</span><span class="token punctuation">,</span><span class="token plain"> err </span><span class="token operator">:=</span><span class="token plain"> os</span><span class="token punctuation">.</span><span class="token function">Stat</span><span class="token punctuation">(</span><span class="token plain">fileName</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">if</span><span class="token plain"> err </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token boolean">nil</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		</span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><ul><li><code>os.Stat</code>：用来获取文件或文件信息，基于它封装了<code>checkFileIsExist</code> 判断文件是否存在</li><li><code>os.Create</code>+<code>io.WriteString</code>实现了文件的创建和写入文件</li><li>判断文件存在则用<code>os.Remove(filePath)</code> 删除文件，以覆盖文件（懒得看覆盖文件的方法）</li></ul><h3 id="获取命令行参数"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#获取命令行参数"><span class="icon icon-link"></span></a>获取命令行参数</h3><p>这个写法我用 NodeJS 写 CLI 工具的时候写法差不多，有兴趣的可以<a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/cli">看一下，<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>下次不一定，就这次呗。</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">func</span><span class="token plain"> </span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">var</span><span class="token plain"> post </span><span class="token operator">=</span><span class="token plain"> flag</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;6859538537830858759&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;文章编号&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">	</span><span class="token keyword">var</span><span class="token plain"> rootDir </span><span class="token operator">=</span><span class="token plain"> flag</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span><span class="token plain"> root</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;文件保存的根目录&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  flag</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="获取环境变量"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#获取环境变量"><span class="icon icon-link"></span></a>获取环境变量</h3><p>GO 语言中不支持使用<code>~</code>号代表家目录，经过一番折腾，找到这个解决办法，这不和 Deno 一个德行，这语言设计都是互相借鉴（抄）的吧。</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">os</span><span class="token punctuation">.</span><span class="token function">Getenv</span><span class="token punctuation">(</span><span class="token string">&quot;HOME&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="获取图片"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#获取图片"><span class="icon icon-link"></span></a>获取图片</h3><p>测试脚本的时候发现有图片的文章，图片都丢失了，这怎么行，没有图片的文章是没有灵魂的。分析的结果是掘金的图片是懒加载的，标签大概长这样：</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">img</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">class</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">lazyload inited loaded</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">data-src</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">https://i.loli.net/2020/08/13/cVomW7L9YOTw2uA.png</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">data-width</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">800</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">data-height</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">600</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag">  </span><span class="token tag attr-name">src</span><span class="token tag attr-value punctuation attr-equals">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">https://i.loli.net/2020/08/13/cVomW7L9YOTw2uA.png</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"></span></div><div class="token-line"><span class="token tag"></span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>我盲猜是这个<code>data-</code>属性的问题，遂在脚本中加入了下面的代码将<code>data-</code>删掉：</p><div class="__dumi-default-code-block"><pre class="prism-code language-go"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token operator">...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">reg </span><span class="token operator">:=</span><span class="token plain"> regexp</span><span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">`data-`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		html</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token boolean">_</span><span class="token plain"> </span><span class="token operator">:=</span><span class="token plain"> e</span><span class="token punctuation">.</span><span class="token plain">DOM</span><span class="token punctuation">.</span><span class="token function">Html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">		markdown </span><span class="token operator">:=</span><span class="token plain"> </span><span class="token function">convertHTMLToMarkdown</span><span class="token punctuation">(</span><span class="token plain">reg</span><span class="token punctuation">.</span><span class="token function">ReplaceAllString</span><span class="token punctuation">(</span><span class="token plain">html</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token operator">...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p><a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/homebrew-juejin-spider/releases/tag/v0.1.0">youngjuning/homebrew-juejin-spider@0.1.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 已经发布，可以完美地抓取掘金专栏啦。</p><h3 id="成品"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#成品"><span class="icon icon-link"></span></a>成品</h3><blockquote><p>代码太长，源码在这里 》》》<a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/juejin-spider">https://github.com/youngjuning/juejin-spider<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>《《《，都读到这里了，给个 star 呗。</p></blockquote><h2 id="打包并使用-homebrew-发布脚本"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#打包并使用-homebrew-发布脚本"><span class="icon icon-link"></span></a>打包并使用 Homebrew 发布脚本</h2><p>黑客是要有追求的，不可能做个玩具出来。而且 Go 本身就是运行起来不靠任何依赖和环境，我不能要求使用工具的人还得装个 go 的环境。我第一个想到的就是将我的脚本发到 Homebrew，谢天谢地，<a target="_blank" rel="noopener noreferrer" href="https://www.jianshu.com/p/e88831aac62a">使用 HomeBrew 发布脚本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 详细地讲解了这个过程。</p><h3 id="1、打包成可执行文件"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#1、打包成可执行文件"><span class="icon icon-link"></span></a>1、打包成可执行文件</h3><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go build juejin.go</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>会在当前目录下生成一个叫 juejin 的可执行文件，<code>./juejin</code> 是可以执行的，也可以使用<code>go build -o=/usr/local/bin juejin.go</code> 或 <code>go build -o=$GOPATH/bin/ juejin.go</code> 放到已经注册的系统路径中。</p><h3 id="2、将可执行文件打包成-targz-的格式"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#2、将可执行文件打包成-targz-的格式"><span class="icon icon-link"></span></a>2、将可执行文件打包成 tar.gz 的格式</h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ </span><span class="token function">tar</span><span class="token plain"> zcvf juejin_0.0.1.tar.gz juejin</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f64f139d9578418fa7eaae6a33191266~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><p>上传到 git，供配方软连接到这个脚本文件。</p><h3 id="3、使用-brew-create-git-url---tab-userrepo-创建药方"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#3、使用-brew-create-git-url---tab-userrepo-创建药方"><span class="icon icon-link"></span></a>3、使用 <code>brew create &lt;git-url&gt; --tab user/repo</code> 创建药方</h3><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ brew tap youngjuning/homebrew-juejin-spider https://github.com/youngjuning/homebrew-juejin-spider.git</span></div><div class="token-line"><span class="token plain">$ brew create \</span></div><div class="token-line"><span class="token plain">  https://github.com/youngjuning/homebrew-juejin-spider/raw/master/juejin_0.0.1.tar.gz \</span></div><div class="token-line"><span class="token plain">  --tap youngjuning/homebrew-juejin-spider</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>我们需要对安装方式做一下调整:</p><div class="__dumi-default-code-block"><pre class="prism-code language-ruby"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">def install</span></div><div class="token-line"><span class="token plain">    bin.install &quot;juejin&quot;</span></div><div class="token-line"><span class="token plain">end</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>做完这些操作后，保存，提交到 git 上。</p><h3 id="4、安装脚本"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#4、安装脚本"><span class="icon icon-link"></span></a>4、安装脚本</h3><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ brew </span><span class="token function">install</span><span class="token plain"> youngjuning/juejin-spider/juejin</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><p>执行 <code>juejin -h</code> 检查是否成功：</p><div class="__dumi-default-code-block"><pre class="prism-code language-shell"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ juejin -h</span></div><div class="token-line"><span class="token plain">Usage of juejin:</span></div><div class="token-line"><span class="token plain">  -post string</span></div><div class="token-line"><span class="token plain">    	文章编号 </span><span class="token punctuation">(</span><span class="token plain">default </span><span class="token string">&quot;6859538537830858759&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  -root string</span></div><div class="token-line"><span class="token plain">    	文件保存的根目录 </span><span class="token punctuation">(</span><span class="token plain">default </span><span class="token string">&quot;/Users/yangjunning/juejin&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h3 id="在其他人的设备安装自己的脚本"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#在其他人的设备安装自己的脚本"><span class="icon icon-link"></span></a>在其他人的设备安装自己的脚本</h3><div class="__dumi-default-code-block"><pre class="prism-code language-sh"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ brew install youngjuning/juejin-spider/juejin</span></div><div class="token-line"><span class="token plain">
</span></div></pre></div><h2 id="超级赛亚人镇"><a aria-hidden="true" tabindex="-1" href="/blog/go/极速入门 go 并爬取掘金专栏#超级赛亚人镇"><span class="icon icon-link"></span></a>超级赛亚人镇</h2><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcd91045ddd8472f857afccf3dff1b15~tplv-k3u1fbpfcp-zoom-1.image" alt=""/></p><blockquote><p>感谢你耐心看完了这篇文章，点赞等于学会，收藏等于精通，点赞加收藏是真爱！！！也期待在评论区和我讨论！！！</p></blockquote><p><a target="_blank" rel="noopener noreferrer" href="https://juejin.im/post/6859784103621820429">🏆 技术专题第二期 | 我与 Go 的那些事......<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/youngjuning/youngjuning.github.io/edit/main/docs/blog/go/极速入门 Go 并爬取掘金专栏.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">3/3/2021 06:32:43</span></div></div><div class="ant-back-top"></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.8d1763cf.js"></script>
  </body>
</html>
